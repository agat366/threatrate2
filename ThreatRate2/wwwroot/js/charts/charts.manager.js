(function() {
    var service = {
        extensions: {}
    };

    initialize();

    service.renderPath = function (container, iconNameOrIconObject, color, scale, dx, dy) {
        var iconName;
        if (typeof iconNameOrIconObject === 'object') {
            color = iconNameOrIconObject.color || color;
            scale = iconNameOrIconObject.scale || scale;
            dx = iconNameOrIconObject.dx || dx;
            dy = iconNameOrIconObject.dy || dy;

            iconName = iconNameOrIconObject.name;
        } else {
            iconName = iconNameOrIconObject;
        }

        var result = container.append('g');

        render(result, iconName, color, scale, dx, dy);

        return result;
    };

    service.renderImage = function(container, iconNameOrObjectOrArray, color, scale, toCenter) {

        var isD3 = container instanceof d3.selection;
        var svg, frame;
        var transform = [];
        var customBounds = false;
        if (typeof scale === 'object') {
            frame = scale;
            customBounds = true;
            scale = -1;
        }

        if (isD3) {
            svg = container;
            frame = frame || { width: 0, height: 0 };
        } else {
            container = container[0] || container;
            svg = d3.select(container).append('svg');
            frame = frame || { width: container.offsetWidth, height: container.offsetHeight };
            svg.attr(frame);
            transform.push(String.format('translate({0},{1})', frame.width / 2 + (frame.dx || 0), frame.height / 2 + (frame.dy || 0)));
        }


        var g = svg.append('g');
        var gScale = g.append('g').attr('scale-container', '');
        
        if (iconNameOrObjectOrArray instanceof Array) {
            _.each(iconNameOrObjectOrArray,
                function(iconParams) {
                    service.renderPath(gScale, iconParams, color, scale === -1 ? null : scale);
                });

        } else {
            service.renderPath(gScale, iconNameOrObjectOrArray, color, scale === -1 ? null : scale);
        }

        if (scale === -1) {
            // scale full width
            var box = g.node().getBBox();

            var vScale = box.width === 0 ? 1 : frame.width / box.width;
            var hScale = box.height === 0 ? 1 : frame.height / box.height;
            scale = vScale > hScale ? hScale : vScale;

            //            transform = [String.format('translate({0},{1})', containerFrame.w / 2, 0)];
            if (toCenter) {
                transform = [];
            }
            if (scale !== 1) {
                gScale.attr('transform', String.format('scale({0}, {0})', scale));                
            }
        }
        if (toCenter === true) {
            var box = g.node().getBBox();


            transform.push(String.format('translate({0},{1})',
                -box.x - box.width / 2 + (frame.position === 0 ? 0: frame.width / 2) + (frame.dx || 0),
                -box.y - box.height / 2 + (frame.position === 0 ? 0 : frame.height / 2) + (frame.dy || 0)));
        }

        g.attr('transform', transform.join(','));
        return g;
    }
    window.ChartsManager = service;

    function initialize() {
        service.defaults = {
            frontColor: '#e1482c',
//            frontColor: '#b00000',
            secondaryBackColor: '#bcbebd',
            backColor: '#e5e5e5',
            transparentColor: '#fff',
            darkColor: '#333'
        }

        service.paths = {
            signs: {
                person: 'signs.person',
                person2: 'signs.person2',
                child: 'signs.child',
                suicide: 'signs.suicide',
                male: 'signs.male',
                clock: 'signs.clock',
                female: 'signs.female'
            },
            ageGroups: {
                adults: 'agegroups.adults',  
                children: 'agegroups.children',  
                senior: 'agegroups.senior'  
            },
            countries: {
                globe: 'countries.globe'
            },
            locations: {
                
            }
        }
    }

    function render(container, pathName, color, scale, dx, dy) {
        var g0, g, w = 0, h = 0;
        scale = scale || 1;
        var transparentColor = service.defaults.transparentColor;

        g0 = container.append('g');
        g = g0.append('g');

        switch (pathName)
        {
// locations
            case 'locations.common':
                w = 16.963;
                h = 27.07;
                scale *= .8;
                g.append('path')
                    .attr('d', 'M14.847,2.707C13.297,1.052,11.021,0,8.476,0C6.616,0,4.893,0.491,3.497,1.438c-1.885,1.384-3.375,4-3.479,6.437c-0.026,0.606-0.062,1.084,0.209,2.334c0.241,1.114,4.646,10.942,6.682,15.036c0.373,0.752,0.796,1.584,1.193,1.756c0.179,0.077,0.479,0.104,0.682,0.01c0.06-0.027,0.36-0.203,0.469-0.391c1.109-1.922,5.114-10.858,7.204-15.683c0.45-1.039,0.474-1.991,0.499-2.521C17.052,6.381,16.224,3.962,14.847,2.707zM8.418,13.438c-2.849,0-5.161-2.271-5.161-5.073s2.313-5.073,5.161-5.073c2.851,0,5.163,2.271,5.163,5.073S11.269,13.438,8.418,13.438z')
                    .attr('fill', color || '#010101');
                break;

            case 'locations.education':
                w = 20.404;
                h = 17.315;
                g.append('path')
                    .attr('d', 'M4.636,9.738v2.881c0,0,2.443,2.699,5.876,2.699c4.321,0,5.877-2.699,5.877-2.699V9.495l-5.073,2.965c-0.362,0.212-0.81,0.225-1.185,0.037L4.636,9.738zM4.636,9.738')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M10.641,6.311c-0.635,0-1.266-0.132-1.606-0.406L2.933,8.016l7.239,3.624c0.375,0.188,0.818,0.172,1.181-0.04l8.436-4.915c0.394-0.23,0.628-0.655,0.615-1.111c-0.016-0.457-0.278-0.866-0.684-1.072L10.985,0.13c-0.375-0.187-0.819-0.171-1.182,0.038L1.368,5.085C0.974,5.314,0.74,5.742,0.752,6.198c0.016,0.453,0.278,0.866,0.685,1.069l-0.019,4.464c-0.435,0.153-0.747,0.569-0.747,1.057c0,0.362,0.169,0.684,0.435,0.89c-0.085,0.616-0.369,1.06-0.71,1.378c-0.274,0.253-0.418,0.615-0.394,0.987c0.022,0.372,0.213,0.716,0.516,0.932l0.156,0.112c0.287,0.203,0.646,0.277,0.99,0.196c0.347-0.078,0.641-0.297,0.813-0.603c0.594-1.063,0.307-2.44,0.109-3.1c0.203-0.203,0.331-0.484,0.331-0.793c0-0.484-0.31-0.9-0.74-1.057L2.193,7.47l6.623-2.294c0.057-0.281,0.341-0.537,0.341-0.537c-0.021,0.075,0.021,1,1.422,1c0.806,0,1.455-0.257,1.455-0.781c0-0.097-0.021-0.2-0.062-0.31c0.225,0.281,0.362,0.594,0.362,0.854C12.334,6.01,11.575,6.311,10.641,6.311L10.641,6.311zM10.641,6.311')
                    .attr('fill', color || '#010101');
                break;

            case 'locations.home':
                w = 17.464;
                h = 16.262;
                g.append('path')
                    .attr('d', 'M17.169,7.35l-2.646-2.647V1.645c0-0.553-0.447-1-1-1s-1,0.447-1,1v1.055L10.552,0.73C9.577-0.244,7.883-0.243,6.911,0.731L0.293,7.35c-0.391,0.391-0.391,1.024,0,1.415s1.026,0.391,1.416,0l6.617-6.617c0.216-0.214,0.596-0.214,0.81-0.001l6.618,6.618c0.197,0.195,0.452,0.293,0.708,0.293s0.513-0.098,0.707-0.293C17.562,8.374,17.562,7.74,17.169,7.35L17.169,7.35zM17.169,7.35')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M9.079,4.046c-0.192-0.191-0.504-0.191-0.694,0L2.563,9.865c-0.092,0.092-0.145,0.219-0.145,0.348v4.245c0,0.996,0.808,1.804,1.804,1.804h2.882v-4.463h3.254v4.463h2.881c0.996,0,1.805-0.808,1.805-1.804v-4.245c0-0.129-0.053-0.256-0.145-0.348L9.079,4.046zM9.079,4.046')
                    .attr('fill', color || '#010101');
                break;

            case 'locations.hotel':
                w = 27.727;
                h = 16.896;
                g.append('path')
                    .attr('d', 'M25.507,12.455v4.441h2.22v-6.661H2.221V1.138c0-0.289-0.108-0.551-0.325-0.785S1.417,0,1.109,0C0.803,0,0.541,0.118,0.325,0.353C0.108,0.587,0,0.849,0,1.138v15.759h2.221v-4.441H25.507zM25.507,12.455')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M5.713,5.687c0.561,0,1.047-0.198,1.463-0.597c0.415-0.396,0.622-0.875,0.622-1.434c0-0.561-0.207-1.038-0.622-1.436C6.76,1.824,6.273,1.625,5.713,1.625c-0.56,0-1.037,0.199-1.435,0.596C3.881,2.618,3.682,3.097,3.682,3.656c0,0.559,0.199,1.037,0.597,1.434C4.676,5.488,5.153,5.687,5.713,5.687L5.713,5.687zM5.713,5.687')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M27.727,8.557V5.849c0-0.433-0.153-0.785-0.46-1.056c-0.308-0.271-0.695-0.442-1.164-0.515L10.019,2.707H9.91c-0.289,0-0.532,0.101-0.73,0.299C8.98,3.204,8.881,3.448,8.881,3.736v3.142H4.766c-0.686,0-1.029,0.279-1.029,0.84c0,0.56,0.344,0.839,1.029,0.839H27.727zM27.727,8.557')
                    .attr('fill', color || '#010101');
                break;

            case 'locations.office':
                w = 18.246;
                h = 18.089;
                g.append('path')
                    .attr('d', 'M15.635,2.21c0,1.22-0.988,2.209-2.207,2.209c-1.221,0-2.211-0.989-2.211-2.209c0-1.221,0.99-2.21,2.211-2.21C14.646,0,15.635,0.989,15.635,2.21L15.635,2.21zM15.635,2.21')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M8.889,13.884v-0.545c0-0.439,0.213-0.867,0.566-1.14v-1.865H7.416c-0.791,0-1.422-0.622-1.422-1.409c0-0.128,0.057-0.236,0.057-0.353V8.066h0.238c0.262-0.378,0.668-0.567,1.127-0.567h1.869c0.02-0.095,0.076-0.125,0.076-0.2V2.237c0-0.422-0.391-0.789-0.813-0.789H2.248c-0.422,0-0.736,0.367-0.736,0.789v5.062c0,0.423,0.314,0.768,0.736,0.768h2.574v0.661H3.957c-0.381,0-0.689,0.283-0.689,0.756H0.328C0.133,9.483,0,9.595,0,9.792v0.801c0,0.194,0.131,0.312,0.328,0.312h0.994v7.185h8.322v-3.238C9.645,14.851,8.889,14.692,8.889,13.884L8.889,13.884zM3.359,6.932c-0.422,0-0.805-0.3-0.805-0.723V3.327c0-0.423,0.383-0.745,0.805-0.745h4.098c0.422,0,0.77,0.322,0.77,0.745v2.882c0,0.423-0.348,0.723-0.77,0.723H3.359zM3.359,6.932')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M14.898,4.786h-2.922c-1.793,0-1.906,1.793-1.906,1.793S9.83,7.788,9.631,7.927C9.572,7.969,9.5,7.999,9.416,7.999h-2c-0.477,0-0.859,0.378-0.859,0.854c0,0.473,0.383,0.851,0.859,0.851h2c0.309,0,0.584,0,0.621-0.008l-0.018,2.087h1.137V7.163c0-0.932,0.6-1.999,1.539-1.999h3.486C15.834,4.881,15.387,4.786,14.898,4.786L14.898,4.786zM14.898,4.786')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M17.104,14.212c0.631,0,1.143-0.512,1.143-1.143v-5.87c0-0.706-0.598-1.31-1.303-1.31h-3.961c-0.705,0-1.26,0.604-1.26,1.31v5.217h-1.275c-0.488,0-0.898,0.378-0.898,0.867v0.322c0,0.334,0.271,0.606,0.607,0.606h2.703v0.756h-0.434c0,0-1.08,0.024-1.08,1.028v1.439c0,0.325,0.244,0.592,0.57,0.592s0.58-0.267,0.58-0.595l-0.008-1.331h1.979v1.334c0,0.325,0.287,0.592,0.613,0.592c0.328,0,0.615-0.267,0.615-0.592v-1.439c0-1.09-1.158-1.028-1.158-1.028h-0.451v-0.756H17.104zM17.104,14.212')
                    .attr('fill', color || '#010101');
                break;

            case 'locations.public-area':
                w = 18.167;
                h = 18.167;
                g.append('path')
                    .attr('d', 'M18.167,14.65v-0.586h-1.759v-0.586h1.173v-1.758h-1.173v-0.587h1.173V9.376H6.446v1.758h1.173v0.587H6.446v1.758h1.173v0.586H5.861v0.586h1.758v2.93H4.103v-1.758h-0.88V7.618H2.637V2.197c0-0.889,0.723-1.611,1.611-1.611c0.848,0,1.543,0.658,1.605,1.489C4.865,2.221,4.103,3.073,4.103,4.102v0.294h1.171c0,0.484,0.395,0.879,0.88,0.879c0.484,0,0.879-0.395,0.879-0.879h1.173V4.102c0-1.032-0.77-1.889-1.765-2.028C6.375,0.919,5.419,0,4.248,0C3.037,0,2.051,0.985,2.051,2.197v5.421H1.465v8.204H0.586v1.758H0v0.587h18.167V17.58h-1.759v-2.93H18.167zM6.153,4.688c-0.161,0-0.292-0.131-0.292-0.292h0.585C6.446,4.557,6.314,4.688,6.153,4.688L6.153,4.688zM7.588,3.809h-2.87c0.136-0.667,0.728-1.172,1.436-1.172S7.453,3.142,7.588,3.809L7.588,3.809zM2.051,8.204h0.586v7.618H2.051V8.204zM3.516,17.58H1.172v-1.171h2.344V17.58zM7.032,10.548V9.963h9.962v0.585H7.032zM15.823,11.134v0.587h-0.587v-0.587H15.823zM14.65,11.134v0.587H9.377v-0.587H14.65zM8.79,11.134v0.587H8.205v-0.587H8.79zM14.65,17.58H9.377v-2.051h5.273V17.58zM15.236,17.58v-2.637H8.79v2.637H8.205v-2.93h7.618v2.93H15.236zM8.205,14.064v-0.586H8.79v0.586H8.205zM9.377,14.064v-0.586h5.273v0.586H9.377zM15.823,14.064h-0.587v-0.586h0.587V14.064zM14.65,12.893H7.032v-0.586h9.962v0.586H14.65zM14.65,12.893')
                    .attr('fill', color || '#010101');
                break;

            case 'locations.street':
                w = 27.236;
                h = 16.965;
                g.append('path')
                    .attr('d', 'M26.2,14.895H1.035C0.463,14.895,0,15.356,0,15.929c0,0.571,0.463,1.036,1.035,1.036H26.2c0.571,0,1.036-0.465,1.036-1.036C27.236,15.356,26.771,14.895,26.2,14.895L26.2,14.895zM26.2,14.895')
                    .attr('fill', color || '#010101');
                g.append('rect')
                    .attr('x', '11.101')
                    .attr('y', '7.446')
                    .attr('width', '5.032')
                    .attr('height', '2.071')
                    .attr('fill', color || '#010101');
                g.append('rect')
                    .attr('x', '1.035')
                    .attr('y', '7.446')
                    .attr('width', '5.033')
                    .attr('height', '2.071')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M1.035,2.072H26.2c0.571,0,1.036-0.465,1.036-1.037C27.236,0.465,26.771,0,26.2,0H1.035C0.463,0,0,0.465,0,1.035C0,1.607,0.463,2.072,1.035,2.072L1.035,2.072zM1.035,2.072')
                    .attr('fill', color || '#010101');
                g.append('rect')
                    .attr('x', '21.167')
                    .attr('y', '7.446')
                    .attr('width', '5.033')
                    .attr('height', '2.071')
                    .attr('fill', color || '#010101');
                break;

            case 'locations.vehicle':
                w = 30.176;
                h = 16.808;
                g.append('path')
                    .attr('d', 'M6.243,11.873c-0.905,0-1.642,0.736-1.642,1.642s0.736,1.641,1.642,1.641s1.641-0.735,1.641-1.641S7.148,11.873,6.243,11.873L6.243,11.873zM6.243,14.172c-0.362,0-0.657-0.296-0.657-0.657c0-0.363,0.295-0.659,0.657-0.659S6.9,13.151,6.9,13.515C6.9,13.876,6.605,14.172,6.243,14.172L6.243,14.172zM6.243,14.172')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M23.4,11.873c-0.905,0-1.641,0.736-1.641,1.642s0.735,1.641,1.641,1.641c0.904,0,1.641-0.735,1.641-1.641S24.305,11.873,23.4,11.873L23.4,11.873zM23.4,14.172c-0.363,0-0.658-0.296-0.658-0.657c0-0.363,0.295-0.659,0.658-0.659c0.362,0,0.657,0.296,0.657,0.659C24.058,13.876,23.763,14.172,23.4,14.172L23.4,14.172zM23.4,14.172')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M26.822,6.191L22.436,5.69l-2.34-3.806C19.381,0.723,18.088,0,16.725,0H8.762c-2.289,0-4.313,1.542-4.92,3.749L3.779,3.976c-0.302,1.097-1.17,1.969-2.265,2.278C0.622,6.506,0,7.328,0,8.255v5.441c0,0.271,0.22,0.492,0.49,0.492h2.527c0.313,1.493,1.641,2.619,3.226,2.619s2.912-1.126,3.224-2.619h10.708c0.312,1.493,1.64,2.619,3.226,2.619c1.585,0,2.912-1.126,3.225-2.619h2.652c0.25,0,0.461-0.188,0.488-0.437l0.386-3.375C30.388,8.305,28.895,6.428,26.822,6.191L26.822,6.191zM2.964,13.204H0.982v-0.597h2.095C3.021,12.8,2.982,13,2.964,13.204L2.964,13.204zM6.243,15.824c-1.274,0-2.312-1.036-2.312-2.31c0-1.274,1.037-2.312,2.312-2.312c1.273,0,2.312,1.037,2.312,2.312C8.555,14.788,7.517,15.824,6.243,15.824L6.243,15.824zM23.4,15.824c-1.275,0-2.312-1.036-2.312-2.31c0-1.274,1.036-2.312,2.312-2.312c1.274,0,2.311,1.037,2.311,2.312C25.711,14.788,24.675,15.824,23.4,15.824L23.4,15.824zM28.838,13.204H26.68C26.66,13,26.621,12.8,26.566,12.607h2.34L28.838,13.204zM29.174,10.266l-0.155,1.358h-2.923c-0.597-0.848-1.582-1.403-2.695-1.403s-2.1,0.556-2.695,1.403h-8.748c-0.271,0-0.492,0.221-0.492,0.491c0,0.272,0.221,0.492,0.492,0.492h8.277C20.178,12.8,20.14,13,20.121,13.204h-10.6c-0.156-1.672-1.567-2.983-3.278-2.983c-1.114,0-2.099,0.556-2.695,1.403H0.982V8.255c0-0.488,0.328-0.923,0.799-1.056c1.424-0.401,2.553-1.536,2.945-2.963L4.789,4.01c0.49-1.781,2.124-3.025,3.973-3.025h7.963c1.025,0,1.996,0.542,2.533,1.415l2.467,4.009c0.078,0.129,0.213,0.214,0.362,0.231l4.624,0.528c1.049,0.12,1.897,0.809,2.272,1.723h-1.535c-0.271,0-0.491,0.22-0.491,0.49c0,0.271,0.221,0.492,0.491,0.492h1.741C29.194,10.003,29.189,10.133,29.174,10.266L29.174,10.266zM29.174,10.266')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M16.75,7.423h-1.033c-0.271,0-0.49,0.22-0.49,0.492c0,0.271,0.22,0.491,0.49,0.491h1.033c0.272,0,0.492-0.22,0.492-0.491C17.242,7.643,17.022,7.423,16.75,7.423L16.75,7.423zM16.75,7.423')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M10.148,7.915c0-0.272-0.22-0.492-0.49-0.492H8.625c-0.271,0-0.492,0.22-0.492,0.492c0,0.271,0.221,0.491,0.492,0.491h1.033C9.929,8.406,10.148,8.187,10.148,7.915L10.148,7.915zM10.148,7.915')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M10.758,11.927c-0.006-0.014-0.004-0.008-0.002-0.001c-0.086-0.203-0.304-0.331-0.523-0.296c-0.201,0.03-0.363,0.182-0.408,0.378c-0.098,0.428,0.396,0.759,0.758,0.514c0.189-0.13,0.263-0.38,0.177-0.592C10.761,11.937,10.764,11.94,10.758,11.927L10.758,11.927zM10.758,11.927')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M18.746,2.715c-0.428-0.697-1.201-1.131-2.021-1.131H8.761c-1.579,0-2.974,1.063-3.392,2.586L5.307,4.396C5.145,4.982,4.896,5.99,4.885,6.034C4.85,6.18,4.883,6.336,4.976,6.454c0.093,0.119,0.235,0.188,0.386,0.188h14.922c0.178,0,0.342-0.096,0.43-0.252c0.086-0.155,0.082-0.346-0.011-0.497L18.746,2.715zM7.557,5.659H5.992c0.083-0.327,0.184-0.721,0.262-1.003l0.063-0.226c0.188-0.682,0.646-1.235,1.24-1.558V5.659zM13.066,2.567v3.092H8.539V2.577c0.074-0.007,0.148-0.01,0.222-0.01H13.066zM14.049,5.659V2.567h2.676c0.479,0,0.934,0.254,1.185,0.662l1.495,2.43H14.049zM14.049,5.659')
                    .attr('fill', color || '#010101');
                break;

            case 'locations.vessel':
                w = 24.208;
                h = 18.534;
                g.append('rect')
                    .attr('x', '4.926')
                    .attr('y', '11.348')
                    .attr('width', '0.74')
                    .attr('height', '0.756')
                    .attr('fill', color || '#010101');
                g.append('rect')
                    .attr('x', '6.816')
                    .attr('y', '11.348')
                    .attr('width', '0.742')
                    .attr('height', '0.756')
                    .attr('fill', color || '#010101');
                g.append('rect')
                    .attr('x', '8.708')
                    .attr('y', '11.348')
                    .attr('width', '0.741')
                    .attr('height', '0.756')
                    .attr('fill', color || '#010101');
                g.append('rect')
                    .attr('x', '10.6')
                    .attr('y', '11.348')
                    .attr('width', '0.74')
                    .attr('height', '0.756')
                    .attr('fill', color || '#010101');
                g.append('rect')
                    .attr('x', '12.49')
                    .attr('y', '11.348')
                    .attr('width', '0.741')
                    .attr('height', '0.756')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M20.647,17.785l3.404-6.809h-4.389V7.951h-1.514V3.79h-5.281v4.161H11.34V1.521H6.816v6.431H3.034v5.296h-2.27v0.37c0,1.757,0.928,3.301,2.319,4.168H0v0.741h17.786v0.008h0.742v-0.008h5.68v-0.741H20.647zM13.61,4.531h3.799v1.906H13.61V4.531zM13.61,7.179h3.799v0.772H13.61V7.179zM7.559,2.262H10.6v0.394H7.559V2.262zM7.559,3.396H10.6v4.555H7.559V3.396zM3.775,8.691H18.92v0.772H3.775V8.691zM3.775,10.205H18.92v0.772h-3.549l-2.648,2.27H3.775V10.205zM19.819,17.785h-1.291v-0.008h-0.742v0.008H5.674c-0.898,0-1.73-0.286-2.412-0.771h16.944L19.819,17.785zM2.463,16.272c-0.523-0.633-0.864-1.421-0.941-2.285h11.477l2.646-2.27h7.207l-2.277,4.555H2.463zM2.463,16.272')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M18.157,2.655h-2.277V1.892h-0.74v0.764h-0.773V0h-0.74v2.655h-0.764v0.741h5.295V2.655zM18.157,2.655')
                    .attr('fill', color || '#010101');
                break;

            case 'locations.worship':
                scale *= 1.1;
                w = 17.928;
                h = 16.942;
                g.append('path')
                    .attr('d', 'M16.17,13.083v-1.979l-3.957-1.898v7.736h1.504v-1.271l0.695-1.149l0.695,1.149v1.271h2.82v-3.859H16.17zM16.17,13.083')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M1.756,13.083H0v3.859h2.818v-1.271l0.697-1.149l0.693,1.149v1.271h1.504v-7.74l-3.957,1.902V13.083zM1.756,13.083')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M6.191,9.019v7.924H8.27v-2.854l0.695-1.149l0.693,1.149v2.854h2.076V9.019l-2.77-4.239L6.191,9.019zM10.033,8.561v0.655H9.291v0.895H8.637V9.216H7.893V8.561h0.744V7.969h0.654v0.592H10.033zM10.033,8.561')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M8.965,3.459l3.27,5l4.494,2.137V9.835l-4.025-1.914L9.172,2.521V1.067h0.838V0.649H9.172V0H8.754v0.649H7.916v0.418h0.838v1.454L5.223,7.921L1.197,9.835v0.761l4.498-2.137L8.965,3.459zM8.965,3.459')
                    .attr('fill', color || '#010101');
                break;
// signs
            case 'signs.child':
                w = 22.729;
                h = 70.695;

                // placeholder

                g.append('path')
                    .attr('d', 'M14.336,8.708c0,0,0.679,0.184,0.771-0.353c0.091-0.546,0.444-1.197,0.606-1.641c0.166-0.456-0.303-0.819-0.303-0.819s-0.129-3.105-0.512-4.001c-0.384-0.898-1.726-1.867-2.813-1.885c-1.062-0.032-1.72,0.038-1.72,0.038s-1.832-0.151-2.794,1.3c-0.977,1.47-0.619,3.971-0.619,3.971C6.189,6.213,6.753,6.374,6.753,7.395c0,0.574,0.365,0.887,0.649,0.909c0.302,0.013,0.302-0.055,0.302-0.055s1.146,1.766,1.242,1.985c0.101,0.233,0.032,1.508-0.236,1.916c-0.271,0.413-1.716,0.992-1.716,0.992s-2.243,1.644-2.878,2.051c-0.615,0.406-1.505,1.235-1.505,1.235s-0.788,3.312-1.308,4.234C0.789,21.583,0,23.308,0,23.308s1.335,0.855,1.656,0.977c0.303,0.115,0.648,0.282,0.648,0.282s-0.089,2.462-0.434,3.042c-0.323,0.583-0.312,3.219-0.055,5.613C2.067,35.6,2.2,38.685,2.096,39.581c-0.092,0.895-0.148,2.221-0.148,2.741c0,0.515,1.189,1.534,1.189,1.534s1.047,0.222,1.312,0.179c0.266-0.021,0.273-0.015,0.273-0.015s-0.484,12.741-0.42,14.592c0.028,1.846,0.479,2.512,0.073,2.916c-0.403,0.416,0.496,0.587,0.496,1.41c0,0.809-0.805,2.163-0.805,3.018c0,0.854,0.775,1.438,0.775,1.438l0.975-0.272c0.288-0.079,1.105,3.455,3.506,3.565c0.35,0.021,1.103,0.015,1.496-0.136c0.867-0.309,0.961-0.953,0.506-2.302c-0.441-1.347-0.579-2.74-0.579-2.74s1.476-2.676,1.476-3.739c0-1.095-0.358-2.535-0.499-3.35c-0.128-0.799-0.305-5.267-0.305-7.111c0-1.852-0.13-5.188,0.227-6.104c0.344-0.893,0.485-1.711,0.485-1.711s0.676,1.445,0.676,3.254c0,1.808,0.325,1.717,0.633,4.636c0.329,2.938-0.137,5.784-0.265,7.271c-0.143,1.476-1.122,1.708-0.306,3.288c0.791,1.576,1.975,0.945,1.879,2.984c-0.051,1.479,1.452,1.713,2.475,2.742c0.543,0.547,1.174,1.611,2.854,1.848c1.657,0.213,2.427-0.547,2.472-1.435c0.054-0.917-2.03-3.086-2.03-3.086s1.816-1.44,1.216-2.474c-0.579-1.028-1.927-2.199-1.927-2.199s0.169-14.471,0.169-15.648c0-1.182,0-1.848,0-1.848s1.183,0.106,1.581-0.206c0.409-0.315,0.659-1.495,0.779-1.944c0.113-0.449-0.435-2.498-0.435-2.945c0-0.439-0.35-9.825-0.747-10.737c-0.397-0.892-0.729-1.44-0.776-2.058c-0.025-0.645-0.159-1.268-0.159-1.268l2.513-1.167c0,0-2.581-4.15-3.117-5.554c-0.543-1.4-0.846-2.204-0.846-2.204s-4.107-2.028-4.655-2.353c-0.544-0.311-0.717-0.584-0.758-1.12c-0.053-0.54-0.053-0.855-0.053-0.855L14.336,8.708L14.336,8.708zM19.33,32.807c0,0,0.559,2.535,0.861,3.596c0.3,1.056,0.043,1.162-0.073,1.706c-0.105,0.576-0.093,2.638-0.093,2.638h-0.673l0.019-0.447l0.336-0.271L19.33,32.807L19.33,32.807zM5.607,24.293c0,0,0.541,0.912,0.541,2.488c0,1.578-0.469,3.238-0.644,4.415C5.33,32.37,4.842,34.941,4.78,35.743c-0.045,0.821-0.045,4.561-0.045,4.561l0.503,0.102L5.02,42.114c0,0-0.829-0.074-0.829-1.162c0-1.076-0.1-2.227-0.209-2.633c-0.106-0.413,0.483-7.525,0.483-8.611c0-1.078,0.315-4.327,0.315-4.327l0.532-0.042L5.607,24.293L5.607,24.293z')
                    .attr('fill', color || '#c03529');
                break;

            case 'signs.clock':
                w = 18.496;
                h = 18.493;
                g.append('path')
                    .attr('d', 'M9.247,0C4.151,0,0,4.147,0,9.248c0,5.099,4.151,9.246,9.247,9.246c5.099,0,9.249-4.147,9.249-9.246C18.496,4.147,14.346,0,9.247,0L9.247,0zM13.139,15.422l-0.4-0.686c-0.047-0.077-0.132-0.127-0.223-0.127c-0.047,0-0.09,0.012-0.129,0.036c-0.061,0.034-0.104,0.089-0.12,0.156s-0.009,0.135,0.025,0.195l0.399,0.687c-0.892,0.479-1.894,0.777-2.957,0.847v-0.967c0-0.27-0.217-0.487-0.487-0.487c-0.268,0-0.483,0.218-0.483,0.487v0.967c-1.051-0.068-2.039-0.36-2.919-0.827l0.394-0.69c0.033-0.06,0.044-0.128,0.025-0.195c-0.02-0.065-0.061-0.122-0.12-0.156c-0.04-0.022-0.083-0.034-0.129-0.034c-0.093,0-0.177,0.051-0.224,0.13l-0.395,0.688c-0.878-0.547-1.633-1.278-2.211-2.138l0.838-0.482c0.23-0.135,0.312-0.432,0.176-0.664c-0.134-0.233-0.432-0.313-0.664-0.18l-0.839,0.485c-0.438-0.894-0.703-1.889-0.741-2.94l0.793-0.002c0.068,0,0.134-0.027,0.182-0.077C2.979,9.4,3.006,9.335,3.006,9.266c0-0.142-0.117-0.257-0.258-0.257L1.952,9.011C1.986,7.943,2.25,6.933,2.696,6.027l0.839,0.483c0.078,0.045,0.16,0.063,0.242,0.063c0.168,0,0.333-0.085,0.422-0.242c0.136-0.233,0.055-0.53-0.176-0.664l-0.84-0.484c0.57-0.847,1.313-1.568,2.176-2.113l0.398,0.686c0.023,0.04,0.055,0.072,0.094,0.093c0.08,0.046,0.18,0.046,0.26,0c0.058-0.035,0.103-0.091,0.117-0.156c0.02-0.067,0.01-0.136-0.025-0.197L5.804,2.812c0.894-0.48,1.896-0.777,2.96-0.849v0.969c0,0.268,0.216,0.485,0.483,0.485c0.271,0,0.487-0.218,0.487-0.485V1.963c1.048,0.07,2.036,0.36,2.916,0.827l-0.393,0.69c-0.07,0.124-0.027,0.281,0.095,0.352c0.041,0.022,0.082,0.034,0.128,0.034c0.094,0,0.178-0.05,0.224-0.13l0.395-0.688c0.88,0.549,1.635,1.278,2.212,2.138l-0.838,0.484c-0.231,0.134-0.313,0.431-0.177,0.664c0.091,0.156,0.254,0.242,0.421,0.242c0.084,0,0.168-0.019,0.243-0.063l0.839-0.483c0.441,0.894,0.705,1.889,0.743,2.938L15.75,8.97c-0.071,0-0.135,0.027-0.184,0.075c-0.051,0.05-0.074,0.113-0.074,0.182c0,0.092,0.048,0.178,0.131,0.223c0.037,0.024,0.082,0.035,0.127,0.035l0,0l0.793-0.002c-0.031,1.069-0.296,2.078-0.744,2.985l-0.839-0.485c-0.229-0.134-0.528-0.053-0.664,0.18c-0.136,0.232-0.055,0.529,0.177,0.664l0.838,0.482C14.74,14.156,14,14.876,13.139,15.422L13.139,15.422zM13.139,15.422')
                    .attr('fill', color || '#D8D8D8');
                g.append('path')
                    .attr('d', 'M12.847,6.609L9.724,8.34C9.582,8.264,9.42,8.222,9.247,8.222c-0.172,0-0.333,0.042-0.474,0.118L5.65,6.609C5.355,6.444,4.983,6.55,4.82,6.846c-0.164,0.295-0.059,0.667,0.238,0.83l3.184,1.767c0.092,0.472,0.508,0.829,1.005,0.829c0.499,0,0.914-0.356,1.007-0.829l3.183-1.767c0.297-0.163,0.403-0.535,0.24-0.83C13.512,6.55,13.142,6.444,12.847,6.609L12.847,6.609zM12.847,6.609')
                    .attr('fill', color || '#D8D8D8');
                break;

            case 'signs.person':
                w = 9.562;
                h = 27.221;

                // placeholder

                g.append('path')
                    .attr('d', 'M4.843,4.127c1.141,0,2.064-0.925,2.064-2.063C6.907,0.924,5.983,0,4.843,0C3.705,0,2.782,0.924,2.782,2.063C2.782,3.202,3.705,4.127,4.843,4.127zM9.558,6.775c0-1.039-0.843-1.881-1.88-1.881H1.879C0.84,4.895,0,5.736,0,6.775l0.004,7.592c0,0.456,0.369,0.824,0.821,0.824c0.452,0,0.821-0.368,0.821-0.824V7.43h0.347v18.56c0,0.68,0.551,1.231,1.234,1.231c0.676,0,1.227-0.552,1.227-1.231V15.825h0.674v10.161c0,0.682,0.549,1.234,1.231,1.234c0.677,0,1.229-0.553,1.229-1.234V7.43h0.329v6.91c0,0.455,0.371,0.825,0.824,0.825c0.456,0,0.822-0.37,0.822-0.825L9.558,6.775z')
                    .attr('fill', color || '#808080');
                break;

            case 'signs.suicide':
                w = 10.75;
                h = 30.599;

                // placeholder

                g.append('path')
                    .attr('d', 'M5.445,4.639c1.283,0,2.323-1.04,2.323-2.319C7.768,1.039,6.728,0,5.445,0c-1.28,0-2.316,1.039-2.316,2.32C3.128,3.6,4.165,4.639,5.445,4.639zM10.745,7.616c0-1.167-0.949-2.114-2.115-2.114H2.114C0.948,5.502,0,6.448,0,7.616l0.006,8.536c0,0.512,0.414,0.926,0.923,0.926s0.923-0.414,0.923-0.926V8.352h0.389v20.863c0,0.765,0.619,1.384,1.387,1.384c0.761,0,1.381-0.619,1.381-1.384V17.79h0.755v11.422c0,0.766,0.619,1.387,1.387,1.387c0.759,0,1.378-0.621,1.378-1.387V8.352h0.373v7.768c0,0.512,0.413,0.927,0.923,0.927c0.512,0,0.926-0.415,0.926-0.927L10.745,7.616z')
                    .attr('fill', color || '#c03529');
                g.append('path')
                    .attr('d', 'M3.408,11.279V10.82c0-0.035-0.029-0.064-0.064-0.064s-0.063,0.029-0.063,0.064v0.459c-0.298,0.015-0.515,0.134-0.515,0.289v2.881c0,0.166,0.249,0.291,0.578,0.291c0.33,0,0.579-0.125,0.579-0.291v-2.881C3.923,11.414,3.706,11.294,3.408,11.279L3.408,11.279zM3.281,11.407v0.161c0,0.035,0.028,0.064,0.063,0.064s0.064-0.029,0.064-0.064v-0.161c0.238,0.014,0.387,0.1,0.387,0.161c0,0.066-0.176,0.163-0.451,0.163c-0.275,0-0.451-0.096-0.451-0.163C2.894,11.507,3.042,11.421,3.281,11.407L3.281,11.407zM3.344,14.612c-0.275,0-0.451-0.097-0.451-0.163v-2.695c0.104,0.064,0.265,0.104,0.451,0.104c0.186,0,0.346-0.04,0.451-0.104v2.695C3.795,14.515,3.62,14.612,3.344,14.612L3.344,14.612zM3.344,14.612')
                    .attr('fill', transparentColor || '#fff');
                g.append('path')
                    .attr('d', 'M3.674,12.258c-0.035,0-0.064,0.028-0.064,0.063v2.024c0,0.036,0.029,0.064,0.064,0.064s0.064-0.029,0.064-0.064v-2.024C3.738,12.286,3.709,12.258,3.674,12.258L3.674,12.258zM3.674,12.258')
                    .attr('fill', transparentColor || '#fff');
                g.append('path')
                    .attr('d', 'M3.674,11.909c-0.035,0-0.064,0.029-0.064,0.064v0.151c0,0.035,0.029,0.064,0.064,0.064s0.064-0.029,0.064-0.064v-0.151C3.738,11.938,3.709,11.909,3.674,11.909L3.674,11.909zM3.674,11.909')
                    .attr('fill', transparentColor || '#fff');
                g.append('path')
                    .attr('d', 'M4.78,11.279V10.82c0-0.035-0.028-0.064-0.064-0.064c-0.035,0-0.063,0.029-0.063,0.064v0.459c-0.298,0.015-0.515,0.134-0.515,0.289v2.881c0,0.166,0.249,0.291,0.578,0.291c0.33,0,0.578-0.125,0.578-0.291v-2.881C5.294,11.414,5.078,11.294,4.78,11.279L4.78,11.279zM4.653,11.407v0.161c0,0.035,0.028,0.064,0.063,0.064c0.036,0,0.064-0.029,0.064-0.064v-0.161c0.238,0.014,0.387,0.1,0.387,0.161c0,0.066-0.175,0.163-0.451,0.163c-0.275,0-0.451-0.096-0.451-0.163C4.266,11.507,4.415,11.421,4.653,11.407L4.653,11.407zM4.716,14.612c-0.275,0-0.451-0.097-0.451-0.163v-2.695c0.104,0.064,0.265,0.104,0.451,0.104c0.187,0,0.347-0.04,0.451-0.104v2.695C5.167,14.515,4.992,14.612,4.716,14.612L4.716,14.612zM4.716,14.612')
                    .attr('fill', transparentColor || '#fff');
                g.append('path')
                    .attr('d', 'M5.046,12.258c-0.035,0-0.063,0.028-0.063,0.063v2.024c0,0.036,0.028,0.064,0.063,0.064s0.064-0.029,0.064-0.064v-2.024C5.11,12.286,5.082,12.258,5.046,12.258L5.046,12.258zM5.046,12.258')
                    .attr('fill', transparentColor || '#fff');
                g.append('path')
                    .attr('d', 'M5.046,11.909c-0.035,0-0.063,0.029-0.063,0.064v0.151c0,0.035,0.028,0.064,0.063,0.064s0.064-0.029,0.064-0.064v-0.151C5.11,11.938,5.082,11.909,5.046,11.909L5.046,11.909zM5.046,11.909')
                    .attr('fill', transparentColor || '#fff');
                g.append('path')
                    .attr('d', 'M6.152,11.279V10.82c0-0.035-0.028-0.064-0.063-0.064s-0.064,0.029-0.064,0.064v0.459c-0.297,0.015-0.514,0.134-0.514,0.289v2.881c0,0.166,0.249,0.291,0.579,0.291s0.578-0.125,0.578-0.291v-2.881C6.667,11.414,6.45,11.294,6.152,11.279L6.152,11.279zM6.024,11.407v0.161c0,0.035,0.029,0.064,0.064,0.064s0.063-0.029,0.063-0.064v-0.161c0.238,0.014,0.388,0.1,0.388,0.161c0,0.066-0.176,0.163-0.451,0.163s-0.451-0.096-0.451-0.163C5.637,11.507,5.786,11.421,6.024,11.407L6.024,11.407zM6.088,14.612c-0.275,0-0.451-0.097-0.451-0.163v-2.695c0.104,0.064,0.266,0.104,0.451,0.104s0.346-0.04,0.451-0.104v2.695C6.54,14.515,6.364,14.612,6.088,14.612L6.088,14.612zM6.088,14.612')
                    .attr('fill', transparentColor || '#fff');
                g.append('path')
                    .attr('d', 'M6.418,12.258c-0.035,0-0.064,0.028-0.064,0.063v2.024c0,0.036,0.029,0.064,0.064,0.064s0.063-0.029,0.063-0.064v-2.024C6.482,12.286,6.454,12.258,6.418,12.258L6.418,12.258zM6.418,12.258')
                    .attr('fill', transparentColor || '#fff');
                g.append('path')
                    .attr('d', 'M6.418,11.909c-0.035,0-0.064,0.029-0.064,0.064v0.151c0,0.035,0.029,0.064,0.064,0.064s0.063-0.029,0.063-0.064v-0.151C6.482,11.938,6.454,11.909,6.418,11.909L6.418,11.909zM6.418,11.909')
                    .attr('fill', transparentColor || '#fff');
                g.append('path')
                    .attr('d', 'M7.524,11.279V10.82c0-0.035-0.028-0.064-0.063-0.064c-0.036,0-0.063,0.029-0.063,0.064v0.459c-0.298,0.015-0.516,0.134-0.516,0.289v2.881c0,0.166,0.249,0.291,0.579,0.291c0.329,0,0.578-0.125,0.578-0.291v-2.881C8.039,11.414,7.821,11.294,7.524,11.279L7.524,11.279zM7.397,11.407v0.161c0,0.035,0.027,0.064,0.063,0.064c0.035,0,0.063-0.029,0.063-0.064v-0.161c0.238,0.014,0.387,0.1,0.387,0.161c0,0.066-0.176,0.163-0.45,0.163c-0.275,0-0.451-0.096-0.451-0.163C7.009,11.507,7.159,11.421,7.397,11.407L7.397,11.407zM7.46,14.612c-0.275,0-0.451-0.097-0.451-0.163v-2.695c0.104,0.064,0.265,0.104,0.451,0.104c0.186,0,0.347-0.04,0.45-0.104v2.695C7.911,14.515,7.735,14.612,7.46,14.612L7.46,14.612zM7.46,14.612')
                    .attr('fill', transparentColor || '#fff');
                g.append('path')
                    .attr('d', 'M7.79,12.258c-0.035,0-0.063,0.028-0.063,0.063v2.024c0,0.036,0.027,0.064,0.063,0.064s0.064-0.029,0.064-0.064v-2.024C7.854,12.286,7.825,12.258,7.79,12.258L7.79,12.258zM7.79,12.258')
                    .attr('fill', transparentColor || '#fff');
                g.append('path')
                    .attr('d', 'M7.79,11.909c-0.035,0-0.063,0.029-0.063,0.064v0.151c0,0.035,0.027,0.064,0.063,0.064s0.064-0.029,0.064-0.064v-0.151C7.854,11.938,7.825,11.909,7.79,11.909L7.79,11.909zM7.79,11.909')
                    .attr('fill', transparentColor || '#fff');
                g.append('rect')
                    .attr('x', '2.228')
                    .attr('y', '12.773')
                    .attr('width', '0.571')
                    .attr('height', '0.707')
                    .attr('fill', color || '#FFFFFF');
                g.append('rect')
                    .attr('x', '7.952')
                    .attr('y', '12.773')
                    .attr('width', '0.571')
                    .attr('height', '0.707')
                    .attr('fill', color || '#FFFFFF');
                g.append('rect')
                    .attr('x', '6.583')
                    .attr('y', '12.773')
                    .attr('width', '0.372')
                    .attr('height', '0.707')
                    .attr('fill', color || '#FFFFFF');
                g.append('rect')
                    .attr('x', '5.223')
                    .attr('y', '12.773')
                    .attr('width', '0.372')
                    .attr('height', '0.707')
                    .attr('fill', color || '#FFFFFF');
                g.append('rect')
                    .attr('x', '3.846')
                    .attr('y', '12.773')
                    .attr('width', '0.372')
                    .attr('height', '0.707')
                    .attr('fill', color || '#FFFFFF');
                break;


            case 'signs.person2':
                w = 36.696;
                h = 37.069;

                // placeholder

                g.append('path')
                    .attr('d', 'M18.348,19.708c4.65,0,8.419-4.412,8.419-9.854C26.767,2.307,22.998,0,18.348,0c-4.649,0-8.419,2.307-8.419,9.854C9.929,15.295,13.698,19.708,18.348,19.708L18.348,19.708zM18.348,19.708')
                    .attr('fill', color || '#B3B3B3');
                g.append('path')
                    .attr('d', 'M36.55,34.68l-4.247-9.566c-0.156-0.354-0.428-0.641-0.769-0.818l-6.763-3.521c-0.409-0.213-0.887-0.25-1.322-0.105c-0.438,0.146-0.796,0.463-0.994,0.879l-2.875,5.996l0.362-3.262c0.011-0.102-0.015-0.203-0.073-0.289l-1.172-1.686c-0.005-0.006-0.01-0.01-0.014-0.016l1.014-0.77c0.088-0.066,0.139-0.17,0.139-0.279c0-0.412-0.334-0.746-0.744-0.746h-1.487c-0.41,0-0.745,0.334-0.745,0.746c0,0.109,0.052,0.213,0.14,0.279l1.014,0.77c-0.005,0.006-0.01,0.01-0.014,0.016l-1.172,1.686c-0.059,0.086-0.086,0.188-0.074,0.289l0.362,3.262l-2.874-5.996c-0.199-0.416-0.558-0.732-0.994-0.879c-0.437-0.145-0.914-0.107-1.322,0.105l-6.764,3.521C4.82,24.473,4.55,24.76,4.393,25.114L0.146,34.68c-0.232,0.525-0.185,1.133,0.129,1.615c0.313,0.482,0.85,0.773,1.424,0.773h33.299c0.575,0,1.11-0.291,1.425-0.773C36.734,35.813,36.783,35.206,36.55,34.68L36.55,34.68zM36.55,34.68')
                    .attr('fill', color || '#B3B3B3');
                break;

            case 'signs.female':
                w = 15.077;
                h = 37.134;
                g.append('path')
                    .attr('d', 'M7.881,10.534c0.374,0,0.747-0.062,1.183-0.124c2.803-0.623,4.61-3.488,3.987-6.292c-0.312-1.37-1.122-2.554-2.305-3.301C9.563,0.069,8.13-0.18,6.76,0.131C3.957,0.754,2.15,3.62,2.773,6.422C3.272,8.915,5.452,10.534,7.881,10.534zM9.813,2.187c0.809,0.498,1.433,1.37,1.619,2.305c0.436,1.993-0.81,3.925-2.803,4.423c-1.993,0.437-3.924-0.81-4.423-2.803C3.77,4.118,5.016,2.187,7.009,1.689c0.248-0.063,0.56-0.063,0.81-0.063C8.566,1.626,9.251,1.813,9.813,2.187z')
                    .attr('fill', color || '#B8D7E5');
                g.append('path')
                    .attr('d', 'M10.996,11.905H4.704c-2.242,0-4.049,1.807-4.049,4.049v7.163c0,1.993,0.873,3.426,2.305,3.862l-2.927,9.097c-0.125,0.436,0.125,0.871,0.498,0.996c0.062,0,0.187,0.063,0.249,0.063c0.312,0,0.623-0.188,0.748-0.561l0.062-0.249l3.176-9.72c0.063-0.249,0.063-0.498-0.124-0.685c-0.125-0.188-0.374-0.312-0.623-0.312c-1.557,0-1.744-1.558-1.744-2.43v-7.226c0-1.37,1.121-2.43,2.429-2.43h6.292c1.37,0,2.429,1.121,2.429,2.43v7.163c0,2.118-1.121,2.429-1.745,2.429c-0.249,0-0.498,0.125-0.623,0.312c-0.125,0.188-0.187,0.437-0.125,0.686l2.492,9.782l0.062,0.187c0.125,0.436,0.561,0.686,0.997,0.561s0.685-0.561,0.561-0.996l-2.368-9.097c1.434-0.437,2.368-1.869,2.368-3.862v-7.163C15.045,13.711,13.238,11.905,10.996,11.905z')
                    .attr('fill', color || '#B8D7E5');
                break;

            case 'signs.male':
                w = 15.76;
                h = 37.134;
                g.append('path')
                    .attr('d', 'M7.849,10.534c0.374,0,0.747-0.062,1.184-0.124c2.803-0.623,4.609-3.488,3.987-6.292c-0.312-1.37-1.121-2.554-2.306-3.301C9.531,0.069,8.098-0.18,6.728,0.131C3.925,0.754,2.118,3.62,2.74,6.422C3.301,8.915,5.482,10.534,7.849,10.534zM9.843,2.187c0.809,0.498,1.432,1.37,1.619,2.305l0,0c0.437,1.993-0.81,3.925-2.804,4.423c-1.993,0.437-3.924-0.81-4.422-2.803C3.799,4.118,5.046,2.187,7.04,1.689C7.288,1.626,7.6,1.626,7.849,1.626C8.534,1.626,9.219,1.813,9.843,2.187z')
                    .attr('fill', color || '#AF1F23');
                g.append('path')
                    .attr('d', 'M11.711,11.905H4.049C1.807,11.905,0,13.711,0,15.954v11.71c0,1.933,1.371,3.552,3.239,3.926v4.735c0,0.436,0.374,0.81,0.81,0.81s0.81-0.374,0.81-0.81l0,0v-5.421c0-0.437-0.374-0.81-0.81-0.81c-1.371,0-2.429-1.122-2.429-2.431v-11.71c0-1.37,1.12-2.43,2.429-2.43h7.663c1.37,0,2.429,1.121,2.429,2.43v11.71c0,1.371-1.121,2.431-2.429,2.431c-0.437,0-0.811,0.373-0.811,0.81v5.421l0,0c0,0.436,0.374,0.81,0.811,0.81c0.436,0,0.809-0.374,0.809-0.81v-4.735c1.869-0.374,3.24-1.993,3.24-3.926v-11.71C15.698,13.711,13.892,11.905,11.711,11.905z')
                    .attr('fill', color || '#AF1F23');
                break;

            case 'signs.question-mark':
                w = 19.5;
                h = 19.5;
                g.append('circle')
                    .attr('cx', '9.75')
                    .attr('cy', '9.75')
                    .attr('r', '9.75')
                    .attr('fill', color || '#010101');
                g.append('path')
                    .attr('d', 'M5.322,3.874c1.49-0.397,2.896-0.606,4.887-0.518c2.635,0,3.971,1.853,3.971,3.553v0.884c0,2.339-0.813,3.69-3.693,3.587v1.404H7.975V8.937h1.594c0.852-0.036,1.266-0.295,1.266-1.215V7.463c0-0.764-0.52-1.075-1.508-1.075H5.322V3.874zM7.818,13.737c0-0.261,0.139-0.434,0.416-0.434h1.959c0.311,0,0.434,0.156,0.434,0.434v2.027c0,0.313-0.191,0.398-0.434,0.398H8.234c-0.244,0-0.416-0.156-0.416-0.398V13.737z')
                    .attr('fill', color || '#FFFFFF');
                break;

// age groups
            case 'agegroups.adults':
                w = 27.398;
                h = 21.288;
                g.append('path')
                    .attr('d', 'M0.095,11.773l2.695-5.486c0.114-0.235,0.354-0.384,0.616-0.384l5.704,0.005c0.258,0,0.491,0.146,0.608,0.375l2.674,5.266c0.21,0.412,0.085,0.918-0.292,1.19c-0.467,0.329-1.118,0.172-1.379-0.336L8.917,8.906L8.542,12.47l0.877,7.466c0.085,0.718-0.476,1.347-1.195,1.344H8.22c-0.608,0-1.12-0.451-1.195-1.056l-0.736-5.975l-0.713,5.975c-0.071,0.606-0.586,1.064-1.196,1.064c-0.719,0-1.277-0.625-1.196-1.342l0.842-7.458L3.626,8.931l-1.869,3.674c-0.227,0.446-0.77,0.632-1.221,0.421C0.065,12.804-0.133,12.24,0.095,11.773')
                    .attr('fill', color || '');
                g.append('path')
                    .attr('d', 'M8.746,2.498c0.007,1.383-1.111,2.51-2.496,2.518c-1.386,0.005-2.513-1.114-2.519-2.5C3.726,1.132,4.844,0.005,6.229,0S8.741,1.113,8.746,2.498')
                    .attr('fill', color || '');
                g.append('path')
                    .attr('d', 'M23.084,2.498c0.006,1.383-1.111,2.51-2.498,2.518c-1.385,0.005-2.51-1.114-2.516-2.5C18.064,1.132,19.184,0.005,20.568,0S23.08,1.113,23.084,2.498')
                    .attr('fill', color || '');
                g.append('path')
                    .attr('d', 'M13.931,11.428l4-5.237c0.139-0.181,0.354-0.287,0.582-0.287h4.084c0.227,0,0.438,0.105,0.576,0.282l4.043,5.194c0.293,0.377,0.225,0.92-0.154,1.211c-0.334,0.256-0.807,0.233-1.113-0.058l-2.854-3.289l1.277,5.553h-1.785l0.18,5.575c0.016,0.479-0.365,0.874-0.844,0.877l0,0c-0.439,0-0.807-0.331-0.85-0.767l-0.482-5.121l-0.467,5.13c-0.039,0.433-0.404,0.766-0.842,0.769c-0.479,0.002-0.867-0.394-0.854-0.872l0.16-5.572h-1.777l1.234-5.55l-2.838,3.307c-0.303,0.29-0.773,0.316-1.111,0.064h-0.001C13.717,12.349,13.641,11.808,13.931,11.428')
                    .attr('fill', color || '');
                break;

            case 'agegroups.children':
                w = 15.83;
                h = 17.292;
                g.append('path')
                    .attr('d', 'M5.887,9.919c-0.693-0.004-1.251-0.566-1.25-1.262c0.004-0.691,0.567-1.25,1.259-1.248c0.692,0.003,1.252,0.565,1.249,1.259C7.143,9.359,6.578,9.92,5.887,9.919')
                    .attr('fill', color || '');
                g.append('path')
                    .attr('d', 'M4.763,2.597C4.769,1.004,3.706,0.003,2.391,0C1.075-0.007,0.006,0.99,0,2.58c-0.005,2.072,1.674,2.999,2.208,3.24c-0.13,0.932,0.157,1.839,0.385,2.742c0.244,0.972,0.401,2.129-0.335,2.938c-0.135,0.148,0.087,0.369,0.223,0.221c1.556-1.713-0.252-3.953,0.045-5.898C3.052,5.581,4.757,4.644,4.763,2.597')
                    .attr('fill', color || '');
                g.append('path')
                    .attr('d', 'M12.252,9.565c-0.692-0.004-1.251-0.566-1.249-1.259c0.003-0.692,0.566-1.252,1.259-1.248c0.692,0.001,1.252,0.565,1.249,1.258C13.509,9.009,12.944,9.568,12.252,9.565')
                    .attr('fill', color || '');
                g.append('path')
                    .attr('d', 'M8.774,12.75L8.774,12.75c-0.135-0.171-0.117-0.416,0.04-0.564l1.96-1.858c0.121-0.115,0.283-0.179,0.451-0.18h1.03h1.033c0.167,0.001,0.328,0.064,0.449,0.18l1.962,1.858c0.157,0.148,0.174,0.394,0.039,0.564c-0.138,0.174-0.389,0.208-0.571,0.078l-1.467-1.054l-0.245,1.748l0.459,3.736h-1.202l-0.457-2.486l-0.455,2.486h-1.202l0.459-3.736l-0.244-1.748l-1.468,1.054C9.164,12.958,8.913,12.924,8.774,12.75')
                    .attr('fill', color || '');
                g.append('path')
                    .attr('d', 'M8.876,12.84l-1.783-0.904l0.797,2.961l-0.857,0.01L6.99,16.833c-0.005,0.249-0.207,0.449-0.454,0.451l0,0c-0.237,0.003-0.438-0.176-0.465-0.41l-0.199-1.936l-0.191,1.939c-0.023,0.235-0.223,0.414-0.458,0.414c-0.249-0.002-0.454-0.201-0.459-0.45l-0.052-1.926l-0.856-0.002l0.769-2.97l-2.293-1.786C2.18,10.04,2.14,9.829,2.238,9.664c0.103-0.171,0.315-0.235,0.494-0.148l2,0.979l2.24-0.004l2.012,1.557c0.154,0.119,0.19,0.337,0.085,0.501L8.876,12.84z')
                    .attr('fill', color || '');
                break;

            case 'agegroups.senior':
                w = 20.438;
                h = 21.403;
                g.append('path')
                    .attr('d', 'M4.575,4.869c0.807,0,1.575-0.41,2.024-1.081c0.455-0.677,0.536-1.563,0.215-2.315C6.5,0.741,5.826,0.196,5.045,0.044c-0.8-0.155-1.643,0.105-2.211,0.689C2.265,1.315,2.022,2.165,2.199,2.962C2.37,3.738,2.931,4.398,3.67,4.694C3.957,4.811,4.266,4.869,4.575,4.869L4.575,4.869zM4.575,4.869')
                    .attr('fill', color || '');
                g.append('path')
                    .attr('d', 'M7.381,10.894C7.435,10.744,7.376,10.857,7.381,10.894L7.381,10.894zM7.381,10.894')
                    .attr('fill', color || '');
                g.append('path')
                    .attr('d', 'M9.1,10.131c0.039-0.364,0.048-0.729,0.054-1.094C9.143,8.711,9.137,8.381,9.086,8.058C9.022,7.555,8.904,7.05,8.713,6.582L8.639,6.393C8.551,6.208,8.457,6.028,8.356,5.85C8.145,5.506,7.899,5.188,7.61,4.905C7.516,4.818,7.422,4.73,7.324,4.653C7.23,4.573,7.131,4.506,7.035,4.437C6.912,4.358,6.79,4.277,6.662,4.208C6.021,4.909,5.05,5.243,4.113,5.085C3.497,4.978,2.926,4.662,2.507,4.2C2.473,4.217,2.439,4.236,2.404,4.258C2.309,4.31,2.215,4.375,2.116,4.437C2.022,4.506,1.923,4.573,1.828,4.653C1.73,4.73,1.638,4.818,1.543,4.905C1.252,5.188,1.007,5.506,0.795,5.85C0.694,6.028,0.603,6.208,0.514,6.393L0.438,6.582C0.248,7.05,0.128,7.555,0.065,8.059C0.014,8.382,0.01,8.711,0,9.037c0.004,0.287,0.014,0.572,0.033,0.859c0.012,0.207,0.039,0.413,0.063,0.62c0.043,0.377,0.382,0.665,0.762,0.642c0.379-0.022,0.681-0.349,0.679-0.727v-0.034c-0.002-0.173-0.008-0.345-0.003-0.519c0.01-0.253,0.025-0.505,0.048-0.757c0.032-0.259,0.061-0.523,0.13-0.776C1.793,7.991,1.91,7.634,2.082,7.312l0.063-0.118l0.069-0.11c0.042-0.078,0.096-0.143,0.142-0.21C2.361,6.865,2.365,6.86,2.369,6.855l-0.562,3.93c-0.095,0.682,0.06,1.386,0.444,1.958l0.372,7.857c0.021,0.413,0.354,0.763,0.766,0.8c0.407,0.037,0.793-0.234,0.894-0.632c0.016-0.056,0.023-0.113,0.025-0.171l0.27-5.97L4.855,20.6c0.021,0.414,0.352,0.764,0.766,0.801c0.405,0.037,0.792-0.233,0.894-0.632c0.015-0.056,0.022-0.113,0.024-0.169l0.357-7.818c0.252-0.361,0.417-0.783,0.477-1.233c0.112,0.163,0.342,0.208,0.509,0.102c0.075-0.048,0.133-0.124,0.156-0.209c0.014-0.047,0.014-0.093,0.017-0.14c0.004-0.063,0.019-0.125,0.043-0.184c0.294,0.104,0.624,0.006,0.815-0.241c0.145,0.1,0.242,0.269,0.242,0.458v9.438c0,0.203,0.169,0.376,0.374,0.376s0.374-0.173,0.374-0.376v-9.438C9.903,10.793,9.572,10.327,9.1,10.131L9.1,10.131zM7.617,10.488c-0.102,0.117-0.183,0.256-0.236,0.405c-0.005-0.036-0.008-0.072-0.013-0.108l-0.557-3.89c0.042,0.06,0.087,0.12,0.127,0.188l0.067,0.11l0.063,0.118c0.173,0.322,0.291,0.68,0.372,1.034c0.07,0.253,0.098,0.518,0.132,0.776c0.021,0.252,0.035,0.504,0.045,0.757c0.008,0.174,0,0.346-0.002,0.519v0.037C7.615,10.453,7.615,10.471,7.617,10.488L7.617,10.488zM7.617,10.488')
                    .attr('fill', color || '');
                g.append('path')
                    .attr('d', 'M14.903,4.869c0.807,0,1.574-0.41,2.023-1.081c0.455-0.677,0.536-1.563,0.214-2.315c-0.314-0.731-0.988-1.276-1.769-1.429c-0.799-0.155-1.643,0.105-2.212,0.689c-0.568,0.582-0.811,1.432-0.635,2.229c0.172,0.776,0.732,1.437,1.473,1.732C14.285,4.811,14.593,4.869,14.903,4.869L14.903,4.869zM14.903,4.869')
                    .attr('fill', color || '');
                g.append('path')
                    .attr('d', 'M19.43,10.103c0.037-0.354,0.045-0.711,0.05-1.065c-0.01-0.326-0.015-0.656-0.067-0.979c-0.063-0.503-0.181-1.008-0.371-1.476l-0.075-0.189c-0.089-0.185-0.183-0.364-0.282-0.543c-0.212-0.344-0.457-0.662-0.746-0.944c-0.095-0.087-0.188-0.175-0.285-0.252c-0.095-0.08-0.194-0.147-0.289-0.217c-0.122-0.078-0.246-0.159-0.374-0.229c-0.642,0.701-1.612,1.035-2.549,0.877c-0.616-0.107-1.188-0.423-1.606-0.885c-0.033,0.017-0.067,0.036-0.103,0.058c-0.097,0.052-0.189,0.117-0.287,0.179c-0.095,0.069-0.194,0.137-0.29,0.217c-0.097,0.077-0.189,0.165-0.284,0.252c-0.289,0.282-0.536,0.601-0.747,0.944c-0.102,0.179-0.193,0.358-0.282,0.543l-0.076,0.189c-0.19,0.468-0.31,0.973-0.372,1.477c-0.051,0.323-0.055,0.652-0.067,0.979c0.005,0.287,0.016,0.572,0.035,0.859c0.013,0.207,0.04,0.413,0.063,0.62c0.042,0.377,0.382,0.665,0.761,0.642c0.38-0.022,0.683-0.349,0.68-0.727v-0.034c0-0.173-0.008-0.345-0.003-0.519c0.01-0.253,0.024-0.505,0.048-0.757c0.033-0.259,0.061-0.523,0.129-0.776c0.083-0.354,0.2-0.712,0.372-1.034l0.063-0.118l0.069-0.11c0.042-0.078,0.096-0.143,0.142-0.21c0.005-0.008,0.009-0.013,0.014-0.018l-0.563,3.93c-0.015,0.109-0.023,0.224-0.026,0.337c-0.301,0.943-0.555,1.904-0.745,2.876c-0.217,1.109-0.355,2.237-0.369,3.368c-0.002,0.146-0.005,0.282,0.086,0.403c0.081,0.105,0.211,0.171,0.344,0.171h1.43l0.127,2.66c0.021,0.413,0.353,0.763,0.767,0.8c0.407,0.037,0.792-0.234,0.894-0.632c0.013-0.056,0.022-0.113,0.024-0.171l0.12-2.657h0.302l0.124,2.659c0.021,0.414,0.353,0.764,0.766,0.801c0.407,0.037,0.793-0.233,0.893-0.632c0.015-0.056,0.023-0.113,0.027-0.169l0.121-2.659h1.416c0.117,0,0.233-0.052,0.314-0.139c0.086-0.094,0.115-0.207,0.115-0.33c0-0.289-0.01-0.577-0.027-0.867c-0.035-0.567-0.098-1.135-0.185-1.699c-0.157-1.034-0.393-2.055-0.685-3.063c-0.029-0.103-0.06-0.204-0.091-0.307c0.091,0.186,0.326,0.263,0.508,0.168c0.084-0.042,0.148-0.116,0.183-0.204c0.016-0.049,0.02-0.095,0.022-0.145c0.001-0.067,0.015-0.135,0.042-0.197c0.261,0.015,0.502-0.114,0.637-0.322c0.242,0.06,0.419,0.275,0.419,0.534v9.438c0,0.206,0.173,0.376,0.376,0.376c0.204,0,0.375-0.17,0.375-0.376v-9.438C20.438,10.753,20.006,10.234,19.43,10.103L19.43,10.103zM17.876,11.056c-0.028,0.116-0.051,0.246-0.035,0.364c-0.041-0.133-0.081-0.263-0.121-0.389c-0.005-0.081-0.012-0.163-0.024-0.246l-0.558-3.89c0.043,0.06,0.088,0.12,0.128,0.188l0.067,0.11l0.063,0.118c0.175,0.322,0.291,0.68,0.372,1.034c0.07,0.253,0.098,0.518,0.132,0.776c0.021,0.252,0.036,0.504,0.045,0.757c0.008,0.174,0,0.346-0.002,0.519v0.037c0,0.104,0.022,0.204,0.064,0.297C17.948,10.832,17.902,10.942,17.876,11.056L17.876,11.056zM17.876,11.056')
                    .attr('fill', color || '');
                break;

            default:
                var isFound = false;
                if (service.extensions.regions) {
                        isFound = service.extensions.regions.render(g,
                        pathName,
                        color,
                        function(_w, _h, _scale) {
                            w = _w || w, h = _h || h, scale = _scale || scale;
                        });

                    if (!isFound) {
                        isFound = service.extensions.countries.render(g,
                        pathName,
                        color,
                        function(_w, _h, _scale) {
                            w = _w || w, h = _h || h, scale = _scale || scale;
                        });
                    }
                }
                if (!isFound) {
                    console.log(String.format('[{0}] icon path not implemente.', pathName));
                }
        }

        if (g) {
            g.attr('translate-container', '')
                .attr('transform', String.format('translate(-{0},-{1})', w / 2, h / 2));            
        }

        var transform = [];
        if (!dx || !dy) {
            transform.push(String.format('translate({0},{1})', dx || 0, dy || 0));
        }
        if ((scale || 1) !== 1 && scale !== -1) {
            transform.push(String.format('scale({0},{0})', scale || 1));
        }
        if (transform.length) {
            g0.attr('transform-origin', 'center');
            g0.attr('transform', transform.join(','));
        }

        return g0;
    }
}());